<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="en">
<!--<![endif]-->

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">

    <title>Cookbook Documentation</title>

    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/stroke.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/animate.css">
    <link rel="stylesheet" type="text/css" href="css/prettyPhoto.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shCore.css" media="all">
    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shThemeRDark.css" media="all">

    <!-- COLORS -->
    <link rel="stylesheet" type="text/css" href="css/custom.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- CUSTOM STYLE -->
    <style type="text/css">
        ul {list-style:disc;padding-left:40px;}
        ul, ol {padding-bottom:20px;}
        .dark-text {margin-top:40px;}
        .dark-text-first {margin-top:20px;}
        .dark-text a {display:block;float:right;clear:both;color:#eee;padding-left:0px;}
        .docs-sidebar {padding-left:0px;}
    </style>

</head>

<body>

    <div id="wrapper">

        <div class="container">

            <section id="top" class="section docs-heading">

                <div class="row">
                    <div class="col-md-12">
                        <div class="big-title text-center">
                            <h1>Cookbook</h1>
                            <p class="lead">Documentation</p>
                        </div>
                        <!-- end title -->
                    </div>
                    <!-- end 12 -->
                </div>
                <!-- end row -->

                <hr>

            </section>
            <!-- end section -->

            <div class="row">

                <div class="col-md-3">
                    <div class="docs-sidebar" data-spy="affix" data-offset-top="300" data-offset-bottom="200">
                        <ul class="intro">

                        <!-- menu -->

                        </ul>
                    </div>
                </div>
                <div class="col-md-9">
                    <section id="content">

<h2 class="code-line" data-line-start=4 data-line-end=5><a id="Intro_4"></a>Intro</h2>
<p class="has-line-data" data-line-start="6" data-line-end="7">This is a documentation for Cookbook app created by <a href="https://robotemplates.com/">Robo Templates</a>. Cookbook is a native Android application. You can find here useful info how to configure, customize, build and publish your Cookbook app.</p>
<ul>
<li class="has-line-data" data-line-start="8" data-line-end="9"><a href="https://codecanyon.net/item/cookbook-recipe-app-for-android/10747654">Cookbook on Codecanyon</a></li>
<li class="has-line-data" data-line-start="9" data-line-end="10"><a href="https://play.google.com/store/apps/details?id=com.robotemplates.cookbook">Live demo on Google Play</a></li>
<li class="has-line-data" data-line-start="10" data-line-end="11"><a href="https://www.youtube.com/watch?v=dxpd-ryoTH4">Video preview on YouTube</a></li>
</ul>
<h2 class="code-line" data-line-start=13 data-line-end=14><a id="Features_13"></a>Features</h2>
<ul>
<li class="has-line-data" data-line-start="15" data-line-end="16">Developed with Android Studio &amp; Gradle</li>
<li class="has-line-data" data-line-start="16" data-line-end="17">Support for KitKat (Android 4.4) and newer</li>
<li class="has-line-data" data-line-start="17" data-line-end="18">Material design following Android Design Guidelines</li>
<li class="has-line-data" data-line-start="18" data-line-end="19">List of recipes</li>
<li class="has-line-data" data-line-start="19" data-line-end="20">Recipe detail screen (intro, ingredients, instruction)</li>
<li class="has-line-data" data-line-start="20" data-line-end="21">Simple no-server solution (no need to pay for backend and maintain it)</li>
<li class="has-line-data" data-line-start="21" data-line-end="22">Data (categories, recipes, ingredients) is stored in local SQLite database</li>
<li class="has-line-data" data-line-start="22" data-line-end="23">AdMob (adaptive banners and interstitial ad)</li>
<li class="has-line-data" data-line-start="23" data-line-end="24">Firebase Cloud Messaging (push notifications)</li>
<li class="has-line-data" data-line-start="24" data-line-end="25">Firebase Analytics</li>
<li class="has-line-data" data-line-start="25" data-line-end="26">GDPR compliant (European Union’s General Data Protection Regulation)</li>
<li class="has-line-data" data-line-start="26" data-line-end="27">Splash screen (launch screen)</li>
<li class="has-line-data" data-line-start="27" data-line-end="28">Navigation drawer menu with categories</li>
<li class="has-line-data" data-line-start="28" data-line-end="29">Search for recipe with suggestion</li>
<li class="has-line-data" data-line-start="29" data-line-end="30">Favorite recipes</li>
<li class="has-line-data" data-line-start="30" data-line-end="31">Ingredients check list</li>
<li class="has-line-data" data-line-start="31" data-line-end="32">Recalculate quantity of ingredients by servings</li>
<li class="has-line-data" data-line-start="32" data-line-end="33">Convert calories to joules</li>
<li class="has-line-data" data-line-start="33" data-line-end="34">Kitchen timer</li>
<li class="has-line-data" data-line-start="34" data-line-end="35">Open web link of the recipe</li>
<li class="has-line-data" data-line-start="35" data-line-end="36">Share recipe or shopping list</li>
<li class="has-line-data" data-line-start="36" data-line-end="37">About dialog</li>
<li class="has-line-data" data-line-start="37" data-line-end="38">In-app review dialog</li>
<li class="has-line-data" data-line-start="38" data-line-end="39">Rate app on Google Play</li>
<li class="has-line-data" data-line-start="39" data-line-end="40">Privacy policy link</li>
<li class="has-line-data" data-line-start="40" data-line-end="41">Images can be loaded from the Internet or locally</li>
<li class="has-line-data" data-line-start="41" data-line-end="42">Caching images</li>
<li class="has-line-data" data-line-start="42" data-line-end="43">App works in offline mode</li>
<li class="has-line-data" data-line-start="43" data-line-end="44">Eight color themes (blue, brown, carrot, gray, green, indigo, red, yellow)</li>
<li class="has-line-data" data-line-start="44" data-line-end="45">Animations and effects</li>
<li class="has-line-data" data-line-start="45" data-line-end="46">Animated action bar</li>
<li class="has-line-data" data-line-start="46" data-line-end="47">Animated floating action button</li>
<li class="has-line-data" data-line-start="47" data-line-end="48">Parallax scrolling effect</li>
<li class="has-line-data" data-line-start="48" data-line-end="49">Quick return effect</li>
<li class="has-line-data" data-line-start="49" data-line-end="50">Ripple effect</li>
<li class="has-line-data" data-line-start="50" data-line-end="51">Responsive design and tablet support (portrait, landscape, handling orientation change)</li>
<li class="has-line-data" data-line-start="51" data-line-end="52">Support for vector drawables and high-resolution displays (xxxhdpi)</li>
<li class="has-line-data" data-line-start="52" data-line-end="53">Multi-language support</li>
<li class="has-line-data" data-line-start="53" data-line-end="54">Deep links</li>
<li class="has-line-data" data-line-start="54" data-line-end="55">Top quality clean code created by experienced senior Android developer</li>
<li class="has-line-data" data-line-start="55" data-line-end="56">Easy configuration</li>
<li class="has-line-data" data-line-start="56" data-line-end="57">Well documented</li>
<li class="has-line-data" data-line-start="57" data-line-end="58">Free support</li>
</ul>
<h2 class="code-line" data-line-start=60 data-line-end=61><a id="Android_Studio__SDK_60"></a>Android Studio &amp; SDK</h2>
<p class="has-line-data" data-line-start="62" data-line-end="63">This chapter describes how to install Android Studio and Android SDK. You don’t have to install Android Studio, but it’s better. The project can be built without Android Studio, using Gradle and Android SDK. Gradle is a build system used for building a final APK file.</p>
<ol>
<li class="has-line-data" data-line-start="64" data-line-end="65">Install <a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html">Java JDK</a></li>
<li class="has-line-data" data-line-start="65" data-line-end="66">Install <a href="https://developer.android.com/studio/">Android Studio with Android SDK</a></li>
<li class="has-line-data" data-line-start="66" data-line-end="67">Run Android SDK Manager and <a href="https://developer.android.com/studio/intro/update#sdk-manager">download necessary SDK packages</a>, make sure that you have installed Android SDK Tools, Android SDK Platform-Tools, Android SDK Build-Tools, Android Emulator and Google USB Driver</li>
<li class="has-line-data" data-line-start="67" data-line-end="68">Now you should be able to open/edit the Android project and build an APK</li>
</ol>
<h2 class="code-line" data-line-start=70 data-line-end=71><a id="Project_Structure_70"></a>Project Structure</h2>
<p class="has-line-data" data-line-start="72" data-line-end="73">Project has the following structure (directories are marked by square braces):</p>
<ul>
<li class="has-line-data" data-line-start="74" data-line-end="75">[doc] - documentation</li>
<li class="has-line-data" data-line-start="75" data-line-end="76">[extras] - contains extras</li>
<li class="has-line-data" data-line-start="76" data-line-end="77">[extras]/[keystore]</li>
<li class="has-line-data" data-line-start="77" data-line-end="78">[extras]/[keystore]/cookbook.jks - keystore certificate for signing APK/AAB file</li>
<li class="has-line-data" data-line-start="78" data-line-end="79">[extras]/[keystore]/cookbook.properties - alias and password for keystore</li>
<li class="has-line-data" data-line-start="79" data-line-end="80">[gradle]</li>
<li class="has-line-data" data-line-start="80" data-line-end="81">[gradle]/[wrapper] - Gradle Wrapper</li>
<li class="has-line-data" data-line-start="81" data-line-end="82">[mobile] - main module</li>
<li class="has-line-data" data-line-start="82" data-line-end="83">[mobile]/[libs] - contains external libraries</li>
<li class="has-line-data" data-line-start="83" data-line-end="84">[mobile]/[src] - contains source code</li>
<li class="has-line-data" data-line-start="84" data-line-end="85">[mobile]/[src]/[main]</li>
<li class="has-line-data" data-line-start="85" data-line-end="86">[mobile]/[src]/[main]/[assets] - asset files (prepopulated database, images)</li>
<li class="has-line-data" data-line-start="86" data-line-end="87">[mobile]/[src]/[main]/[java] - java sources</li>
<li class="has-line-data" data-line-start="87" data-line-end="88">[mobile]/[src]/[main]/[res] - xml resources, drawables</li>
<li class="has-line-data" data-line-start="88" data-line-end="89">[mobile]/[src]/[main]/AndroidManifest.xml - manifest file</li>
<li class="has-line-data" data-line-start="89" data-line-end="90">[mobile]/build.gradle - main build script</li>
<li class="has-line-data" data-line-start="90" data-line-end="91">[mobile]/google-services.json - configuration file for Google Services and Firebase</li>
<li class="has-line-data" data-line-start="91" data-line-end="92">[mobile]/proguard-rules.pro - Proguard config (not used)</li>
<li class="has-line-data" data-line-start="92" data-line-end="93">.gitignore - Gitignore file</li>
<li class="has-line-data" data-line-start="93" data-line-end="94">build.gradle - parent build script</li>
<li class="has-line-data" data-line-start="94" data-line-end="95">gradle.properties - build script properties containing path to keystore</li>
<li class="has-line-data" data-line-start="95" data-line-end="96">gradlew - Gradle Wrapper (Unix)</li>
<li class="has-line-data" data-line-start="96" data-line-end="97">gradlew.bat - Gradle Wrapper (Windows)</li>
<li class="has-line-data" data-line-start="97" data-line-end="98"><a href="http://README.md">README.md</a> - readme file</li>
<li class="has-line-data" data-line-start="98" data-line-end="99">settings.gradle - build settings containing list of modules</li>
<li class="has-line-data" data-line-start="99" data-line-end="101">utils.gradle - utilities for Gradle build script</li>
</ul>
<p class="has-line-data" data-line-start="101" data-line-end="102">Java packages:</p>
<ul>
<li class="has-line-data" data-line-start="103" data-line-end="104">com.robotemplates.cookbook - contains application class and main config class</li>
<li class="has-line-data" data-line-start="104" data-line-end="105">com.robotemplates.cookbook.activity - contains activities representing screens</li>
<li class="has-line-data" data-line-start="105" data-line-end="106">com.robotemplates.cookbook.adapter - contains all adapters</li>
<li class="has-line-data" data-line-start="106" data-line-end="107">com.robotemplates.cookbook.ads - contains AdMob classes</li>
<li class="has-line-data" data-line-start="107" data-line-end="108">com.robotemplates.cookbook.content - contains content provider for search suggestions</li>
<li class="has-line-data" data-line-start="108" data-line-end="109">com.robotemplates.cookbook.database - contains database helper and tools for managing asynchronous database calls</li>
<li class="has-line-data" data-line-start="109" data-line-end="110">com.robotemplates.cookbook.database.dao - database access objects</li>
<li class="has-line-data" data-line-start="110" data-line-end="111">com.robotemplates.cookbook.database.data - data model wrapper</li>
<li class="has-line-data" data-line-start="111" data-line-end="112">com.robotemplates.cookbook.database.model - database models representing SQL tables</li>
<li class="has-line-data" data-line-start="112" data-line-end="113">com.robotemplates.cookbook.database.query - database queries</li>
<li class="has-line-data" data-line-start="113" data-line-end="114">com.robotemplates.cookbook.dialog - contains dialogs</li>
<li class="has-line-data" data-line-start="114" data-line-end="115">com.robotemplates.cookbook.fcm - contains services for FCM</li>
<li class="has-line-data" data-line-start="115" data-line-end="116">com.robotemplates.cookbook.fragment - contains fragments with main application logic</li>
<li class="has-line-data" data-line-start="116" data-line-end="117">com.robotemplates.cookbook.glide - contains Glide classes</li>
<li class="has-line-data" data-line-start="117" data-line-end="118">com.robotemplates.cookbook.listener - contains event listeners</li>
<li class="has-line-data" data-line-start="118" data-line-end="119">com.robotemplates.cookbook.utility - contains utilities</li>
<li class="has-line-data" data-line-start="119" data-line-end="120">com.robotemplates.cookbook.view - contains custom views and layouts</li>
<li class="has-line-data" data-line-start="120" data-line-end="121">com.robotemplates.cookbook.widget - contains decorations and other widgets</li>
</ul>
<h2 class="code-line" data-line-start=123 data-line-end=124><a id="Configuration_123"></a>Configuration</h2>
<p class="has-line-data" data-line-start="125" data-line-end="126">This chapter describes how to configure the project to be ready for publishing. All these steps are very important!</p>
<p class="has-line-data" data-line-start="127" data-line-end="128">If you are stuck and need help, try to <a href="https://codecanyon.net/item/cookbook-recipe-app-for-android/10747654/comments">search the problem in comments</a> on CodeCanyon. Most of the problems have already been discussed so there is a good chance that you will find the answer to your question there. You can also use <a href="https://stackoverflow.com/">Stack Overflow</a> to find answers to your technical questions, resolve issues and bugs.</p>
<h3 class="code-line" data-line-start=130 data-line-end=131><a id="1_Import_130"></a>1. Import</h3>
<p class="has-line-data" data-line-start="132" data-line-end="133">Unzip the package and import/open the project in Android Studio. Choose “Import project” on Quick Start screen and select “cookbook-x.y.z” directory.</p>
<p class="has-line-data" data-line-start="134" data-line-end="135">You can <a href="https://developer.android.com/studio/projects/#ProjectView">switch to Project view</a> in the Project window on left if you want to see the actual file structure of the project including all files hidden from the Android view. Just select Project from the dropdown at the top of the Project window.</p>
<p class="has-line-data" data-line-start="136" data-line-end="137">If you want, you can build and run the app right away to test it. Connect your device or <a href="https://developer.android.com/studio/run/managing-avds">emulator</a> to your computer. Make sure you have installed all necessary <a href="https://developer.android.com/studio/run/oem-usb">drivers</a> for your Android device and you also enabled <a href="https://developer.android.com/studio/run/device">USB debugging in Developer options</a>. To build and run the app in Android Studio, just click on Main menu -&gt; Run -&gt; Run ‘mobile’. Choose a connected device and confirm.</p>
<h3 class="code-line" data-line-start=139 data-line-end=140><a id="2_Set_Purchase_Code_139"></a>2. Set Purchase Code</h3>
<p class="has-line-data" data-line-start="141" data-line-end="142">Open configuration file <em>mobile/src/main/java/com/robotemplates/cookbook/CookbookConfig.java</em> and set value of <code>PURCHASE_CODE</code> constant to your own <a href="https://help.market.envato.com/hc/en-us/articles/202822600-Where-Is-My-Purchase-Code-">Envato purchase code</a>.</p>
<p class="has-line-data" data-line-start="143" data-line-end="144">You are licensed to use this code to create one single end product for yourself or for one client (a “single application”). If you want to publish more than one app on Google Play, you have to buy more licenses. You have to buy a <a href="https://codecanyon.net/licenses/terms/regular">License</a> for each end product. If you are going to sell your app, you will have to buy an <a href="https://codecanyon.net/licenses/terms/extended">Extended License</a>. The Extended License is required if end user must pay to use end product. Please read the <a href="https://codecanyon.net/licenses/standard?license=regular">license terms</a> for more info.</p>
<h3 class="code-line" data-line-start=146 data-line-end=147><a id="3_Rename_Application_ID_146"></a>3. Rename Application ID</h3>
<p class="has-line-data" data-line-start="148" data-line-end="149">Every Android app has a unique <a href="https://developer.android.com/studio/build/application-id">application ID</a>. This ID uniquely identifies your app on the device and in Google Play Store. If you want to upload a new version of your app, the application ID (and the <a href="https://developer.android.com/studio/publish/app-signing">certificate you sign it with</a>) must be the same as the original APK. If you change the application ID, Google Play Store treats the APK as a completely different app. So once you publish your app, you should never change the application ID. Default application ID is “com.robotemplates.cookbook” so you have to rename it to something else.</p>
<ol>
<li class="has-line-data" data-line-start="150" data-line-end="151">Open the main build script <em>mobile/build.gradle</em> and rename the value of <code>applicationId</code>. Just rewrite it to your own application ID, e.g. “com.mycompany.myapp”.</li>
<li class="has-line-data" data-line-start="151" data-line-end="152">If you try to build the project now, you will probably get “No matching client found for package name…” error. The reason for this is that declared package names in <em>mobile/google-services.json</em> don’t match to your own package name (application ID). We will setup Firebase and <em>google-services.json</em> later. In the meantime, if you want to get rid of the error, just update values of all <code>package_name</code> attributes in <em>google-services.json</em> to your own package name (application ID), e.g. “com.mycompany.myapp”.</li>
<li class="has-line-data" data-line-start="152" data-line-end="153">Synchronize the project. Main menu -&gt; File -&gt; Sync Project with Gradle Files.</li>
</ol>
<h3 class="code-line" data-line-start=155 data-line-end=156><a id="4_Rename_Application_Name_155"></a>4. Rename Application Name</h3>
<p class="has-line-data" data-line-start="157" data-line-end="158">Open <em>mobile/src/main/res/values/strings.xml</em> and change “Cookbook” to your own name. Change <em>app_name</em> and <em>navigation_header_title</em> strings.</p>
<h3 class="code-line" data-line-start=160 data-line-end=161><a id="5_Create_Launcher_Icon_160"></a>5. Create Launcher Icon</h3>
<p class="has-line-data" data-line-start="162" data-line-end="163">Right click on <em>mobile/src/main/res</em> directory -&gt; New -&gt; Image Asset -&gt; Icon Type “Launcher Icons”, Name “ic_launcher”, create the icon as you wish, you can set clipart, text, shape, color etc. -&gt; Next -&gt; Finish.</p>
<p class="has-line-data" data-line-start="164" data-line-end="165">You can also change the icon by replacing <em>ic_launcher.png</em> file in <em>mipmap-mdpi</em>, <em>mipmap-hdpi</em>, <em>mipmap-xhdpi</em>, <em>mipmap-xxhdpi</em>, <em>mipmap-xxxhdpi</em>, <em>mipmap-anydpi-v26</em> directories.</p>
<p class="has-line-data" data-line-start="166" data-line-end="167">You can also change the splash screen logo. It is stored in <em>mobile/src/main/res/drawable-nodpi/splash.png</em>.</p>
<p class="has-line-data" data-line-start="168" data-line-end="169"><strong>Tip:</strong> Another possibility is to create the launcher icons using <a href="https://romannurik.github.io/AndroidAssetStudio/icons-launcher.html">Android Asset Studio</a>.</p>
<h3 class="code-line" data-line-start=171 data-line-end=172><a id="6_Choose_Color_Theme_171"></a>6. Choose Color Theme</h3>
<p class="has-line-data" data-line-start="173" data-line-end="174">Open <em>mobile/src/main/AndroidManifest.xml</em> and change the value of <code>application.android:theme</code> attribute. There are 8 themes you can use:</p>
<ul>
<li class="has-line-data" data-line-start="175" data-line-end="176">Theme.Cookbook.Blue</li>
<li class="has-line-data" data-line-start="176" data-line-end="177">Theme.Cookbook.Brown</li>
<li class="has-line-data" data-line-start="177" data-line-end="178">Theme.Cookbook.Carrot</li>
<li class="has-line-data" data-line-start="178" data-line-end="179">Theme.Cookbook.Gray</li>
<li class="has-line-data" data-line-start="179" data-line-end="180">Theme.Cookbook.Green</li>
<li class="has-line-data" data-line-start="180" data-line-end="181">Theme.Cookbook.Indigo</li>
<li class="has-line-data" data-line-start="181" data-line-end="182">Theme.Cookbook.Red</li>
<li class="has-line-data" data-line-start="182" data-line-end="184">Theme.Cookbook.Yellow</li>
</ul>
<p class="has-line-data" data-line-start="184" data-line-end="185">You also have to modify MainActivity’s theme. Main Activity uses a special theme with transparent status bar because of navigation drawer status overlay effect. It is an <code>activity.android:theme</code> attribute. Choose one of these themes:</p>
<ul>
<li class="has-line-data" data-line-start="186" data-line-end="187">Theme.Cookbook.TransparentStatusBar.Blue</li>
<li class="has-line-data" data-line-start="187" data-line-end="188">Theme.Cookbook.TransparentStatusBar.Brown</li>
<li class="has-line-data" data-line-start="188" data-line-end="189">Theme.Cookbook.TransparentStatusBar.Carrot</li>
<li class="has-line-data" data-line-start="189" data-line-end="190">Theme.Cookbook.TransparentStatusBar.Gray</li>
<li class="has-line-data" data-line-start="190" data-line-end="191">Theme.Cookbook.TransparentStatusBar.Green</li>
<li class="has-line-data" data-line-start="191" data-line-end="192">Theme.Cookbook.TransparentStatusBar.Indigo</li>
<li class="has-line-data" data-line-start="192" data-line-end="193">Theme.Cookbook.TransparentStatusBar.Red</li>
<li class="has-line-data" data-line-start="193" data-line-end="194">Theme.Cookbook.TransparentStatusBar.Yellow</li>
</ul>
<h3 class="code-line" data-line-start=196 data-line-end=197><a id="7_Prepare_Database_and_Images_196"></a>7. Prepare Database and Images</h3>
<p class="has-line-data" data-line-start="198" data-line-end="199">Data (categories, recipes, ingredients) is stored in a local SQLite database. Prepopulated database with recipes is stored in <em>mobile/src/main/assets/cookbook.db</em>. This prepopulated database is automatically copied on device storage on first run of the application and also if the database is updated (see below for more info about database update). Database is in SQLite 3.0 format and has the following structure (SQL script):</p>
<pre><code class="has-line-data" data-line-start="201" data-line-end="207" class="language-sql"><span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-string">`categories`</span> (<span class="hljs-string">`id`</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span> AUTOINCREMENT , <span class="hljs-string">`name`</span> <span class="hljs-built_in">VARCHAR</span> , <span class="hljs-string">`image`</span> <span class="hljs-built_in">VARCHAR</span> );</span>
<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-string">`recipes`</span> (<span class="hljs-string">`id`</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span> AUTOINCREMENT , <span class="hljs-string">`category_id`</span> <span class="hljs-built_in">BIGINT</span> , <span class="hljs-string">`name`</span> <span class="hljs-built_in">VARCHAR</span> , <span class="hljs-string">`intro`</span> <span class="hljs-built_in">VARCHAR</span> , <span class="hljs-string">`instruction`</span> <span class="hljs-built_in">VARCHAR</span> , <span class="hljs-string">`image`</span> <span class="hljs-built_in">VARCHAR</span> , <span class="hljs-string">`link`</span> <span class="hljs-built_in">VARCHAR</span> , <span class="hljs-string">`time`</span> <span class="hljs-built_in">INTEGER</span> , <span class="hljs-string">`servings`</span> <span class="hljs-built_in">INTEGER</span> , <span class="hljs-string">`calories`</span> <span class="hljs-built_in">INTEGER</span> , <span class="hljs-string">`favorite`</span> <span class="hljs-built_in">SMALLINT</span> );</span>
<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> <span class="hljs-string">`recipes_category_idx`</span> <span class="hljs-keyword">ON</span> <span class="hljs-string">`recipes`</span> ( <span class="hljs-string">`category_id`</span> );</span>
<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-string">`ingredients`</span> (<span class="hljs-string">`id`</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span> AUTOINCREMENT , <span class="hljs-string">`recipe_id`</span> <span class="hljs-built_in">BIGINT</span> , <span class="hljs-string">`name`</span> <span class="hljs-built_in">VARCHAR</span> , <span class="hljs-string">`quantity`</span> <span class="hljs-built_in">FLOAT</span> , <span class="hljs-string">`unit`</span> <span class="hljs-built_in">VARCHAR</span> );</span>
<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> <span class="hljs-string">`ingredients_recipe_idx`</span> <span class="hljs-keyword">ON</span> <span class="hljs-string">`ingredients`</span> ( <span class="hljs-string">`recipe_id`</span> );</span>
</code></pre>
<p class="has-line-data" data-line-start="208" data-line-end="209">As you can see, there are 3 SQL tables (categories, recipes, ingredients) and 2 indexes (category_id, recipe_id) which are also foreign keys. This database schema corresponds to database models in the code. You can find models in <em>com.robotemplates.cookbook.database.model</em> package.</p>
<p class="has-line-data" data-line-start="210" data-line-end="211">This app contains a prepopulated database with demo data. Open the database file <em>mobile/src/main/assets/cookbook.db</em> in any SQLite editor and modify data in the database as you need. You can add/remove/edit recipes, categories and ingredients. There are many <a href="https://www.sqlite.org/cvstrac/wiki?p=ManagementTools">SQLite editors</a>. We recommend <a href="https://sqlitestudio.pl/">SQLite Studio</a> because it is free, open source, cross-platform, portable and intuitive. If you are working with SQLite Studio, don’t forget to commit changes. Don’t modify structure of the database, modify only data! Database tables have following columns:</p>
<p class="has-line-data" data-line-start="212" data-line-end="213">categories:</p>
<ul>
<li class="has-line-data" data-line-start="213" data-line-end="214">id (integer) - Unique primary key</li>
<li class="has-line-data" data-line-start="214" data-line-end="215">name (string) - Category name</li>
<li class="has-line-data" data-line-start="215" data-line-end="217">image (string) - URL of the category image. This field is optional and if it is empty or null, no category image is shown. URL should be in this format: <em>assets://categories/mycategory.png</em>. It points to <em>mobile/src/main/assets/categories</em> folder where all category images should be stored.</li>
</ul>
<p class="has-line-data" data-line-start="217" data-line-end="218">recipes:</p>
<ul>
<li class="has-line-data" data-line-start="218" data-line-end="219">id (integer) - Unique primary key</li>
<li class="has-line-data" data-line-start="219" data-line-end="220">category_id (integer) - Foreign key pointing to category id</li>
<li class="has-line-data" data-line-start="220" data-line-end="221">name (string) - Recipe name</li>
<li class="has-line-data" data-line-start="221" data-line-end="222">intro (string) - Introduction text on recipe detail screen. This field is optional and if it is empty or null, no text is shown.</li>
<li class="has-line-data" data-line-start="222" data-line-end="223">instruction (string) - Main instruction text for the recipe</li>
<li class="has-line-data" data-line-start="223" data-line-end="224">image (string) - URL of the recipe image. Image can be loaded from the Internet (URL with standard HTTP protocol) or locally from assets. Local URL should be in this format: <em>assets://recipes/myrecipe.jpg</em>. It points to <em>mobile/src/main/assets/recipes</em> folder where all local recipe images should be stored.</li>
<li class="has-line-data" data-line-start="224" data-line-end="225">link (string) - URL of the web page. This field is optional and if it is empty or null, no web link is shown in the menu.</li>
<li class="has-line-data" data-line-start="225" data-line-end="226">time (integer) - Cooking time in minutes. This field is optional and if it is empty or null, no time is shown.</li>
<li class="has-line-data" data-line-start="226" data-line-end="227">servings (integer) - Number of servings. This field is optional and if it is empty or null, no servings info is shown.</li>
<li class="has-line-data" data-line-start="227" data-line-end="228">calories (integer) - Number of calories in kcal for 100 g of serving. This field is optional and if it is empty or null, no calories info is shown.</li>
<li class="has-line-data" data-line-start="228" data-line-end="230">favorite (boolean) - True/false value if the recipe is favorite. This field should stay 0 by default. This is the only column modified by the app. All other columns are read only.</li>
</ul>
<p class="has-line-data" data-line-start="230" data-line-end="231">ingredients:</p>
<ul>
<li class="has-line-data" data-line-start="231" data-line-end="232">id (integer) - Unique primary key</li>
<li class="has-line-data" data-line-start="232" data-line-end="233">recipe_id (integer) - Foreign key pointing to recipe id</li>
<li class="has-line-data" data-line-start="233" data-line-end="234">name (string) - Ingredient name</li>
<li class="has-line-data" data-line-start="234" data-line-end="235">quantity (float) - Quantity of the ingredient. This field is optional and if it is empty or null, no quantity is shown.</li>
<li class="has-line-data" data-line-start="235" data-line-end="237">unit (string) - Physical unit of the quantity. This field is optional and if it is empty or null, no unit is shown.</li>
</ul>
<p class="has-line-data" data-line-start="237" data-line-end="238">There are two special categories: “All recipes” and “Favorites”. Keep in mind that these categories are automatically added to the menu and don’t have to be in the database. Categories are ordered by <em>id</em>, recipes are ordered alphabetically by <em>name</em> and ingredients are ordered by <em>id</em>. Search query is looking for a match in <em>name</em>, <em>intro</em> and <em>instruction</em> fields. Searching is case insensitive.</p>
<p class="has-line-data" data-line-start="239" data-line-end="240">If you modify prepopulated database in <em>assets</em> folder, internal database on device storage will not be updated automatically. If you make any change in the prepopulated database, you have to increment database version. Open configuration file <em>mobile/src/main/java/com/robotemplates/cookbook/CookbookConfig.java</em> and increment number in <em>DATABASE_VERSION</em> constant. Database helper detects that database data has been changed and copy the prepopulated database on device storage so data in the app will be updated. You have to increment database version every time when you want to publish a new build on Google Play and you have changed the data in prepopulated database. Data in <em>favorite</em> column is automatically backed-up and then restored after the database is updated.</p>
<p class="has-line-data" data-line-start="241" data-line-end="242">Name of the prepopulated database is defined in configuration file <em>mobile/src/main/java/com/robotemplates/cookbook/CookbookConfig.java</em> in <em>DATABASE_NAME</em> constant. Database file name should correspond to the file in <em>mobile/src/main/assets</em> directory. The database file should be stored in this directory and not in any sub-directory.</p>
<p class="has-line-data" data-line-start="243" data-line-end="244">This paragraph will describe in more detail how it works. Note that there are 2 databases. The first one is prepopulated database which is located in <em>mobile/src/main/assets/cookbook.db</em>. This database has all data about your categories, recipes and ingredients. If you want to add/remove/edit data in your app, you should modify this database. The important thing is, that this database is baked in the APK/AAB file so when you build the APK/AAB file, this database is part of it. Prepopulated database is not directly used by your app. It is just a mirror and when you run the app for a first time (or after update), prepopulated database is copied into device. The second database is the real/internal database which is actually used directly by the app when you run it. This database is stored in device and it is automatically created from the prepopulated database – it is cloned/copied from it. If you want to use more translations in your app, you have to have more prepopulated databases – for each language. For example: default <em>cookbook.db</em>, <em>fr_cookbook.db</em> for French, <em>de_cookbook.db</em> for German etc. See “Multi-language support” chapter below for more info.</p>
<h3 class="code-line" data-line-start=246 data-line-end=247><a id="8_Setup_Firebase_Cloud_Messaging_and_Analytics_246"></a>8. Setup Firebase Cloud Messaging and Analytics</h3>
<p class="has-line-data" data-line-start="248" data-line-end="249">Application uses <a href="https://firebase.google.com/">Firebase</a> for Cloud Messaging, Analytics and AdMob. You need to create a new Firebase account if you don’t have one. You have to create a new project in <a href="https://console.firebase.google.com/">Firebase Console</a>. Follow <a href="https://firebase.google.com/docs/android/setup">Firebase documentation</a> to setup the project. After you add a new Firebase project, open it, select Analytics Dashboard and open wizard to add Firebase to your Android app. Fill in your package name (application ID) and download the <em>google-services.json</em> config file. Copy this file into <em>mobile</em> directory. That’s it. You don’t have to setup the Firebase SDK, it’s already done. You can compose and send push notifications in the <a href="https://console.firebase.google.com/">Firebase Console</a>.</p>
<p class="has-line-data" data-line-start="250" data-line-end="251">You can change the icon of push notification by replacing <em>ic_stat_notification.png</em> files in <em>drawable-mdpi</em>, <em>drawable-hdpi</em>, <em>drawable-xhdpi</em>, <em>drawable-xxhdpi</em>, <em>drawable-xxxhdpi</em> directories.</p>
<h3 class="code-line" data-line-start=253 data-line-end=254><a id="9_Setup_AdMob_253"></a>9. Setup AdMob</h3>
<p class="has-line-data" data-line-start="255" data-line-end="256">Open <em>mobile/src/main/res/values/admob.xml</em> and set values of <code>admob_publisher_id</code> string to your own AdMob publisher id and <code>admob_app_id</code> string to your own AdMob app id. Default values are test publisher id and test app id. Keep the default values if you do not want to use AdMob. Set values of <code>admob_unit_id_recipe_list</code>, <code>admob_unit_id_recipe_detail</code> and <code>admob_unit_id_interstitial</code> strings to your own unit ids (banner ids and interstitial id). Leave these strings empty if you don’t want to use AdMob. Empty means <code>&lt;string name=&quot;admob_unit_id_recipe_list&quot; translatable=&quot;false&quot;&gt;&lt;/string&gt;</code>.</p>
<p class="has-line-data" data-line-start="257" data-line-end="258">You can also specify your test device id in <code>admob_test_device_id</code> string and use test mode when you are debugging the app. Requesting test ads is recommended when you are testing your application on a real device so you do not request invalid impressions. You can find your hashed device id in Android Monitor (Logcat) output by requesting an ad when debugging on your device. Open Android Monitor (Logcat) in Android Studio and look for “To get test ads on this device, call adRequest.addTestDevice(“XXXXXX…”);”. You can use filter/search to find this information in the log. That XXX string is the hashed device id. This applies only to real devices, not emulators. Emulators are considered as test devices by default so you don’t have to care about it.</p>
<p class="has-line-data" data-line-start="259" data-line-end="260">Interstitial ad will be shown after each x openings of recipe detail. Frequency of showing AdMob interstitial ad can be changed. Open configuration file <em>mobile/src/main/java/com/robotemplates/cookbook/CookbookConfig.java</em> and set value of <code>ADMOB_INTERSTITIAL_FREQUENCY</code> constant.</p>
<p class="has-line-data" data-line-start="261" data-line-end="262">This app is GDPR (European Union’s General Data Protection Regulation) compliant. GDPR consent form is shown to users located in the European Economic Area during the first launch of the app. Users can choose if they want to personalize ads or not. You can enable/disable GDPR consent form in the configuration file. Just open <em>mobile/src/main/java/com/robotemplates/cookbook/CookbookConfig.java</em> and set <code>GDPR</code> constant to true/false. GDPR consent form requires a URL link to your privacy policy. You can specify the link in <code>PRIVACY_POLICY_URL</code> constant. Privacy policy link is also shown in the toolbar menu because Google Play requires developers to provide a valid privacy policy when the app requests or handles sensitive user or device information (e.g. advertising identifier). You can use <a href="https://app-privacy-policy-generator.firebaseapp.com/">privacy policy generator</a>.</p>
<p class="has-line-data" data-line-start="263" data-line-end="264">Don’t forget to link your app to Firebase in the <a href="https://apps.admob.com/">AdMob settings</a>.</p>
<p class="has-line-data" data-line-start="265" data-line-end="266"><strong>Note:</strong> Sometimes happens that there is no ad shown in the app. There is nothing wrong, it is correct behavior. If you see <em>Failed to load ad: 0</em> in the log, it means that the ad is newly created. It will take some time to fetch ads from Google servers. You just need to wait a few hours. If you see <em>Failed to load ad: 3</em> in the log, it means that your ad request was successful but Google server was not able to provide any ads for the target user.</p>
<h3 class="code-line" data-line-start=268 data-line-end=269><a id="10_Create_Signing_Keystore_268"></a>10. Create Signing Keystore</h3>
<p class="has-line-data" data-line-start="270" data-line-end="271">You need to create your own keystore to <a href="https://developer.android.com/studio/publish/app-signing">sign an APK/AAB file</a> before <a href="https://developer.android.com/distribute/best-practices/launch/">publishing the app on Google Play</a>. You can create the keystore in <a href="https://developer.android.com/studio/publish/app-signing#generate-key">Android Studio</a> or via <a href="https://docs.oracle.com/javase/7/docs/technotes/tools/solaris/keytool.html">keytool utility</a>.</p>
<ol>
<li class="has-line-data" data-line-start="272" data-line-end="273">Easiest way is to create the keystore directly in Android Studio. Main menu -&gt; Build -&gt; Generate Signed Bundle / APK -&gt; APK -&gt; Create new. Keystore file name has to be <em>cookbook.jks</em> and must be stored in <em>extras/keystore</em> directory. After you create the keystore file, you can just close the Generate Signed Bundle or APK dialog.</li>
<li class="has-line-data" data-line-start="273" data-line-end="274">Make sure that newly created <em>cookbook.jks</em> is stored in <em>extras/keystore</em> directory.</li>
<li class="has-line-data" data-line-start="274" data-line-end="275">Open <em>extras/keystore/cookbook.properties</em> and set keystore alias and passwords which you chose in step 1.</li>
<li class="has-line-data" data-line-start="275" data-line-end="277">Done. Remember that <em>cookbook.jks</em> and <em>cookbook.properties</em> are automatically read by Gradle script when creating a release APK via <em>assembleRelease</em> command or AAB via <em>bundleRelease</em> command. Paths to these files are defined in <em>gradle.properties</em>.</li>
</ol>
<p class="has-line-data" data-line-start="277" data-line-end="278"><strong>Note:</strong> If you want to create the keystore via keytool utility, run following command: <code>keytool -genkey -v -keystore cookbook.jks -alias &lt;your_alias&gt; -keyalg RSA -keysize 2048 -validity 36500</code> where <code>&lt;your_alias&gt;</code> is your alias name. For example your company name or app name. Keytool utility is part of Java JDK. On Windows, you can find it usually in <em>C:\Program Files\Java\jdkX.Y.Z\bin</em>. On Mac, you can find it usually in <em>/Library/Java/JavaVirtualMachines/jdkX.Y.Z/Contents/Home/bin</em>. If you create the keystore this way, don’t forget for step 2 and 3 above.</p>
<p class="has-line-data" data-line-start="279" data-line-end="280"><strong>Important:</strong> Don’t lose the keystore file, otherwise you will not be able to publish new updates on Google Play. You must use the same certificate throughout the lifespan of your app in order for users to be able to install new versions as updates to the app. Optionally, you can use <a href="https://www.youtube.com/watch?v=PuaYhnGmeEk">Google Play App Signing</a> to avoid losing your keystore.</p>
<h2 class="code-line" data-line-start=282 data-line-end=283><a id="Customization_282"></a>Customization</h2>
<p class="has-line-data" data-line-start="284" data-line-end="285">This chapter describes optional customizations of the app.</p>
<h3 class="code-line" data-line-start=287 data-line-end=288><a id="Inapp_Review_Dialog_287"></a>In-app Review Dialog</h3>
<p class="has-line-data" data-line-start="289" data-line-end="290">In-app review dialog is shown after each x openings of recipe detail. Open <em>mobile/src/main/java/com/robotemplates/cookbook/CookbookConfig.java</em> file if you want to configure the in-app review dialog. Frequency of showing the dialog can be set in <code>INAPP_REVIEW_DIALOG_FREQUENCY</code> constant. Set frequency to 0 if you don’t want to show the in-app review dialog. Keep in mind that the in-app review dialog might not show up. It’s not guaranteed. Google Play enforces a time-bound quota on how often a user can be shown the review dialog. Therefore in-app review dialog shouldn’t be shown too often. See <a href="https://developer.android.com/guide/playcore/in-app-review">Google Play In-App Review API</a> for more info.</p>
<h3 class="code-line" data-line-start=292 data-line-end=293><a id="Splash_Screen_292"></a>Splash Screen</h3>
<p class="has-line-data" data-line-start="294" data-line-end="295">Splash screen in this app is implemented as a <a href="https://material.io/design/communication/launch-screen.html">launch screen</a> according to Material Design guidelines. Splash screen logo is stored in <em>mobile/src/main/res/drawable-nodpi/splash.png</em>.</p>
<h3 class="code-line" data-line-start=297 data-line-end=298><a id="Custom_Colors_and_Icons_297"></a>Custom Colors and Icons</h3>
<p class="has-line-data" data-line-start="299" data-line-end="300">You can customize colors in <em>mobile/src/main/res/values/colors.xml</em>.</p>
<p class="has-line-data" data-line-start="301" data-line-end="302">There are 11 category icons. If you need to create an icon for category, it is recommended to use <a href="https://romannurik.github.io/AndroidAssetStudio/index.html">Android Asset Studio</a>. Use icons with highest DPI.</p>
<h3 class="code-line" data-line-start=304 data-line-end=305><a id="Custom_Banner_Logo_in_Navigation_Drawer_Menu_304"></a>Custom Banner Logo in Navigation Drawer Menu</h3>
<p class="has-line-data" data-line-start="306" data-line-end="307">There is a green table cloth background shown in the navigation drawer menu. You can easily change this background by replacing <em>banner.png</em> file in <em>drawable-nodpi</em> directory.</p>
<h3 class="code-line" data-line-start=309 data-line-end=310><a id="About_Dialog_309"></a>About Dialog</h3>
<p class="has-line-data" data-line-start="311" data-line-end="312">If you want to change the text in About dialog, just open <em>mobile/src/main/res/values/strings.xml</em> and edit <em>dialog_about_message</em> string. Note that this text is in HTML format and it can also contains links.</p>
<h3 class="code-line" data-line-start=314 data-line-end=315><a id="MultiLanguage_Support_314"></a>Multi-Language Support</h3>
<p class="has-line-data" data-line-start="316" data-line-end="317">Create a new directory <em>mobile/src/main/res/values-xx</em> where <em>xx</em> is an <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1 code</a> of the language you want to translate. For example “values-es” for Spanish, “values-fr” for French, “values-de” for German etc. Copy strings.xml from <em>mobile/src/main/res/values</em> into the new directory. Now you can translate texts for specific languages. Language is automatically determined by the system device settings. If there is no match with <em>values-xx</em> language, default language in <em>mobile/src/main/res/values</em> is selected. See <a href="https://developer.android.com/guide/topics/resources/localization">Localizing with Resources</a> for more info.</p>
<p class="has-line-data" data-line-start="318" data-line-end="319">For database translation, you have to have more prepopulated databases for each language. For example: default <em>cookbook.db</em>, <em>fr_cookbook.db</em> for French, <em>de_cookbook.db</em> for German etc. Name of the database file has to be in this format: <code>&lt;iso_code&gt;_cookbook.db</code> where <code>&lt;iso_code&gt;</code> is an <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1 code</a> of the language you want to translate. Language is automatically determined by the system device settings. If there is no match with the language ISO code, default prepopulated database <em>cookbook.db</em> is used. All database files should be stored in <em>mobile/src/main/assets</em> directory.</p>
<h3 class="code-line" data-line-start=321 data-line-end=322><a id="Deep_Links_321"></a>Deep Links</h3>
<p class="has-line-data" data-line-start="323" data-line-end="324">Application supports simple deep links which are specified in <em>mobile/src/main/AndroidManifest.xml</em> as an intent filter. Links have this format: <code>http://host/pathPattern</code> or <code>https://host/pathPattern</code>. Open <em>mobile/src/main/res/values/strings.xml</em> and change <em>app_deep_link_host</em> and <em>app_deep_link_path</em> as you need.</p>
<p class="has-line-data" data-line-start="325" data-line-end="326">The pathPattern attribute specifies a complete path that is matched against the complete path in the Intent object. It can contain asterisk wildcard <code>*</code> that matches a sequence of 0 to many occurrences of the immediately preceding character. A period followed by an asterisk <code>.*</code> matches any sequence of 0 to many characters.</p>
<h2 class="code-line" data-line-start=328 data-line-end=329><a id="Building__Publishing_328"></a>Building &amp; Publishing</h2>
<p class="has-line-data" data-line-start="330" data-line-end="331">This chapter describes how to build an APK/AAB (Android App Bundle) file using Gradle and prepare the app for publishing. Android Studio uses Gradle for building Android applications. Publishing an app in APK format is simpler. <a href="https://developer.android.com/guide/app-bundle/">AAB (Android App Bundle)</a> is a new format that supports dynamic delivery, but defers APK generation and signing to Google Play. It requires additional <a href="https://support.google.com/googleplay/android-developer/answer/7384423">setup of signing keystore</a> in Google Play.</p>
<p class="has-line-data" data-line-start="332" data-line-end="333">You don’t need to install Gradle on your system, because there is a <a href="https://docs.gradle.org/current/userguide/gradle_wrapper.html">Gradle Wrapper</a>. The Wrapper is a batch script on Windows, and a shell script for other operating systems. When you start a Gradle build via the Wrapper, Gradle will be automatically downloaded and used to run the build.</p>
<ol>
<li class="has-line-data" data-line-start="334" data-line-end="335">Open the project in Android Studio.</li>
<li class="has-line-data" data-line-start="335" data-line-end="336">Open the configuration file <em>mobile/src/main/java/com/robotemplates/cookbook/CookbookConfig.java</em> and check if everything is set up correctly.</li>
<li class="has-line-data" data-line-start="336" data-line-end="337">Open the main build script <em>mobile/build.gradle</em> and check version constants.</li>
<li class="has-line-data" data-line-start="337" data-line-end="338">Run <code>gradlew assemble</code> for APK or <code>gradlew bundle</code> for AAB in Android Studio terminal. Make sure you are running the command from the root directory of the project.</li>
<li class="has-line-data" data-line-start="338" data-line-end="340">After the build is finished, the APK/AAB file should be available in <em>mobile/build/outputs/apk/release</em> or <em>mobile/build/outputs/bundle/release</em> directory.</li>
</ol>
<p class="has-line-data" data-line-start="340" data-line-end="341"><strong>Note:</strong> You can also <a href="https://developer.android.com/studio/publish/app-signing#sign-apk">create the APK/AAB file</a> via Main menu -&gt; Build -&gt; Generate Signed Bundle / APK. If you want to do it this way, just choose your keystore, enter your alias, passwords and generate the file. After the build is finished, the APK/AAB file should be available in <em>mobile/release</em> directory.</p>
<p class="has-line-data" data-line-start="342" data-line-end="343"><strong>Note:</strong> You will also need a “local.properties” file to set the location of the SDK in the same way that the existing SDK requires, using the “sdk.dir” property. Example of “local.properties” on Windows: <code>sdk.dir=C:\\adt-bundle-windows\\sdk</code>. Alternatively, you can set an environment variable called “ANDROID_HOME”. Android Studio will take care of it.</p>
<p class="has-line-data" data-line-start="344" data-line-end="345"><strong>Tip:</strong> Command <code>gradlew assemble</code> builds both - debug and release APK. You can use <code>gradlew assembleDebug</code> to build debug APK. You can use <code>gradlew assembleRelease</code> to build release APK. Debug APK is signed by a debug keystore. Release APK is signed by your own keystore, stored in <em>/extras/keystore</em> directory. The same applies to <code>gradlew bundle</code> command which generates AAB.</p>
<p class="has-line-data" data-line-start="346" data-line-end="347"><strong>Signing process:</strong> Keystore passwords are automatically loaded from property file during building the release APK/AAB file. Path to this file is defined in “keystore.properties” property in “gradle.properties” file.</p>
<h3 class="code-line" data-line-start=349 data-line-end=350><a id="Versioning_349"></a>Versioning</h3>
<p class="has-line-data" data-line-start="351" data-line-end="352">Open the main build script <em>mobile/build.gradle</em>. There are 4 important constants for defining version code and version name.</p>
<ul>
<li class="has-line-data" data-line-start="353" data-line-end="354">VERSION_MAJOR</li>
<li class="has-line-data" data-line-start="354" data-line-end="355">VERSION_MINOR</li>
<li class="has-line-data" data-line-start="355" data-line-end="356">VERSION_PATCH</li>
<li class="has-line-data" data-line-start="356" data-line-end="358">VERSION_BUILD</li>
</ul>
<p class="has-line-data" data-line-start="358" data-line-end="359">Keep in mind that versions have to be incremental. See <a href="https://developer.android.com/studio/publish/versioning">Version Your App</a> in Android documentation for more info.</p>
<h2 class="code-line" data-line-start=361 data-line-end=362><a id="Dependencies_361"></a>Dependencies</h2>
<ul>
<li class="has-line-data" data-line-start="363" data-line-end="364"><a href="https://github.com/petrnohejl/Alfonz">Alfonz</a></li>
<li class="has-line-data" data-line-start="364" data-line-end="365"><a href="https://developer.android.com/jetpack">Android Jetpack</a></li>
<li class="has-line-data" data-line-start="365" data-line-end="366"><a href="https://firebase.google.com/">Firebase</a></li>
<li class="has-line-data" data-line-start="366" data-line-end="367"><a href="https://github.com/bumptech/glide">Glide</a></li>
<li class="has-line-data" data-line-start="367" data-line-end="368"><a href="https://developers.google.com/android/guides/overview">Google Services</a></li>
<li class="has-line-data" data-line-start="368" data-line-end="369"><a href="http://ormlite.com/">OrmLite</a></li>
<li class="has-line-data" data-line-start="369" data-line-end="370"><a href="https://github.com/emilsjolander/StickyScrollViewItems">StickyScrollViewItems</a></li>
</ul>
<h2 class="code-line" data-line-start=372 data-line-end=373><a id="Credits_372"></a>Credits</h2>
<p class="has-line-data" data-line-start="374" data-line-end="375">Following images are used in the demo app:</p>
<ul>
<li class="has-line-data" data-line-start="376" data-line-end="377">Goulash Soup, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/elsiehui/14706147387">https://www.flickr.com/photos/elsiehui/14706147387</a></li>
<li class="has-line-data" data-line-start="377" data-line-end="378">Apple Pie, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/jeffreyww/15160498676">https://www.flickr.com/photos/jeffreyww/15160498676</a></li>
<li class="has-line-data" data-line-start="378" data-line-end="379">Perfect Sandwiches, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/jeffreyww/5696849258">https://www.flickr.com/photos/jeffreyww/5696849258</a></li>
<li class="has-line-data" data-line-start="379" data-line-end="380">Orange Juice With Ginger, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/breville/8735921698">https://www.flickr.com/photos/breville/8735921698</a></li>
<li class="has-line-data" data-line-start="380" data-line-end="381">Oven Roasted Potato Fries, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/gudlyf/3862654181">https://www.flickr.com/photos/gudlyf/3862654181</a></li>
<li class="has-line-data" data-line-start="381" data-line-end="382">Baked Biscuits, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/epw/2675532274">https://www.flickr.com/photos/epw/2675532274</a></li>
<li class="has-line-data" data-line-start="382" data-line-end="383">Belgian Waffle, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/ralphandjenny/5434298641">https://www.flickr.com/photos/ralphandjenny/5434298641</a></li>
<li class="has-line-data" data-line-start="383" data-line-end="384">English Breakfast, <a href="https://creativecommons.org/licenses/by-nd/2.0/">CC BY-ND 2.0</a>, <a href="https://www.flickr.com/photos/dewolfert/3866881455">https://www.flickr.com/photos/dewolfert/3866881455</a></li>
<li class="has-line-data" data-line-start="384" data-line-end="385">Eggs With Crab Dip, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/jeffreyww/5291277352">https://www.flickr.com/photos/jeffreyww/5291277352</a></li>
<li class="has-line-data" data-line-start="385" data-line-end="386">Hot Gingered Prawns, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/breville/8735236955">https://www.flickr.com/photos/breville/8735236955</a></li>
<li class="has-line-data" data-line-start="386" data-line-end="387">Rings Calamari, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>, <a href="https://www.flickr.com/photos/saechang/4509691209">https://www.flickr.com/photos/saechang/4509691209</a></li>
<li class="has-line-data" data-line-start="387" data-line-end="388">Sushi Rolls, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/sql_samson/3977310279">https://www.flickr.com/photos/sql_samson/3977310279</a></li>
<li class="has-line-data" data-line-start="388" data-line-end="389">Tuna Nachos, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/dinesarasota/6791316679">https://www.flickr.com/photos/dinesarasota/6791316679</a></li>
<li class="has-line-data" data-line-start="389" data-line-end="390">Curried Asparagus and Kaffir Lime Soup, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>, <a href="https://www.flickr.com/photos/dougbeckers/12870205414">https://www.flickr.com/photos/dougbeckers/12870205414</a></li>
<li class="has-line-data" data-line-start="390" data-line-end="391">Matzoh Ball Soup, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>, <a href="https://www.flickr.com/photos/stuart_spivack/298130263">https://www.flickr.com/photos/stuart_spivack/298130263</a></li>
<li class="has-line-data" data-line-start="391" data-line-end="392">Potato Soup, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/whitneyinchicago/4072293909">https://www.flickr.com/photos/whitneyinchicago/4072293909</a></li>
<li class="has-line-data" data-line-start="392" data-line-end="393">Split Pea Soup, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>, <a href="https://www.flickr.com/photos/cogdog/11579080605">https://www.flickr.com/photos/cogdog/11579080605</a></li>
<li class="has-line-data" data-line-start="393" data-line-end="394">Vegetable Soup, <a href="https://creativecommons.org/licenses/by-nd/2.0/">CC BY-ND 2.0</a>, <a href="https://www.flickr.com/photos/9439733@N02/2088701805">https://www.flickr.com/photos/<span class="__cf_email__" data-cfemail="1c25282f252b2f2f5c522c2e">[email&#160;protected]</span>/2088701805</a></li>
<li class="has-line-data" data-line-start="394" data-line-end="395">Halushki, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>, <a href="https://www.flickr.com/photos/avlxyz/4567416647">https://www.flickr.com/photos/avlxyz/4567416647</a></li>
<li class="has-line-data" data-line-start="395" data-line-end="396">Orange Chicken With Bacon Fried Rice, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/jeffreyww/16241424778">https://www.flickr.com/photos/jeffreyww/16241424778</a></li>
<li class="has-line-data" data-line-start="396" data-line-end="397">Posole and Quesadillas, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/jeffreyww/15865540490">https://www.flickr.com/photos/jeffreyww/15865540490</a></li>
<li class="has-line-data" data-line-start="397" data-line-end="398">Spaghetti Carbonara, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/jeffreyww/13726596053">https://www.flickr.com/photos/jeffreyww/13726596053</a></li>
<li class="has-line-data" data-line-start="398" data-line-end="399">Tuna Steak, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/elwillo/5993250162">https://www.flickr.com/photos/elwillo/5993250162</a></li>
<li class="has-line-data" data-line-start="399" data-line-end="400">Summer Salad With Tomatoes and Basil, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>, <a href="https://www.flickr.com/photos/jasonsewall/6090556228">https://www.flickr.com/photos/jasonsewall/6090556228</a></li>
<li class="has-line-data" data-line-start="400" data-line-end="401">Cupcake, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/jenumfamily/6911184740">https://www.flickr.com/photos/jenumfamily/6911184740</a></li>
<li class="has-line-data" data-line-start="401" data-line-end="402">Key Lime Pie, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/ralphandjenny/5941648290">https://www.flickr.com/photos/ralphandjenny/5941648290</a></li>
<li class="has-line-data" data-line-start="402" data-line-end="403">Lemon Berry Trifle, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>, <a href="https://www.flickr.com/photos/brooke/2364980971">https://www.flickr.com/photos/brooke/2364980971</a></li>
<li class="has-line-data" data-line-start="403" data-line-end="404">Meringue Cake With Red Currant Curd Filling, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>, <a href="https://www.flickr.com/photos/69668444@N03/7801333926">https://www.flickr.com/photos/<span class="__cf_email__" data-cfemail="083e313e3e303c3c3c4846383b">[email&#160;protected]</span>/7801333926</a></li>
<li class="has-line-data" data-line-start="404" data-line-end="405">Strawberry Cake, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>, <a href="https://www.flickr.com/photos/martinhipp/4212723686">https://www.flickr.com/photos/martinhipp/4212723686</a></li>
<li class="has-line-data" data-line-start="405" data-line-end="406">Sunset Cocktail, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/rodeime/16157402619">https://www.flickr.com/photos/rodeime/16157402619</a></li>
<li class="has-line-data" data-line-start="406" data-line-end="407">Tango Berry Smoothie, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>, <a href="https://www.flickr.com/photos/vegateam/5867754540">https://www.flickr.com/photos/vegateam/5867754540</a></li>
</ul>
<h2 class="code-line" data-line-start=409 data-line-end=410><a id="Changelog_409"></a>Changelog</h2>
<ul>
<li class="has-line-data" data-line-start="411" data-line-end="413">Version 1.0.0
<ul>
<li class="has-line-data" data-line-start="412" data-line-end="413">Initial release</li>
</ul>
</li>
<li class="has-line-data" data-line-start="413" data-line-end="415">Version 1.1.0
<ul>
<li class="has-line-data" data-line-start="414" data-line-end="415">Update SDK and libraries</li>
</ul>
</li>
<li class="has-line-data" data-line-start="415" data-line-end="421">Version 1.2.0
<ul>
<li class="has-line-data" data-line-start="416" data-line-end="417">Runtime permissions</li>
<li class="has-line-data" data-line-start="417" data-line-end="418">Support for database translations</li>
<li class="has-line-data" data-line-start="418" data-line-end="419">One config file for everything (Google Analytics, AdMob)</li>
<li class="has-line-data" data-line-start="419" data-line-end="420">Update SDK and libraries</li>
<li class="has-line-data" data-line-start="420" data-line-end="421">Huge refactoring of the code with many improvements and optimizations</li>
</ul>
</li>
<li class="has-line-data" data-line-start="421" data-line-end="423">Version 1.2.1
<ul>
<li class="has-line-data" data-line-start="422" data-line-end="423">Fix loading data when activity is restored</li>
</ul>
</li>
<li class="has-line-data" data-line-start="423" data-line-end="428">Version 1.3.0
<ul>
<li class="has-line-data" data-line-start="424" data-line-end="425">Backup and restore favorites when database is updated</li>
<li class="has-line-data" data-line-start="425" data-line-end="426">Instruction text field now supports HTML</li>
<li class="has-line-data" data-line-start="426" data-line-end="427">Update SDK and libraries</li>
<li class="has-line-data" data-line-start="427" data-line-end="428">Refactoring of the code and optimizations</li>
</ul>
</li>
<li class="has-line-data" data-line-start="428" data-line-end="432">Version 1.4.0
<ul>
<li class="has-line-data" data-line-start="429" data-line-end="430">Fix suggestion provider authority</li>
<li class="has-line-data" data-line-start="430" data-line-end="431">Update SDK and libraries</li>
<li class="has-line-data" data-line-start="431" data-line-end="432">Refactoring of the code and optimizations</li>
</ul>
</li>
<li class="has-line-data" data-line-start="432" data-line-end="434">Version 1.4.1
<ul>
<li class="has-line-data" data-line-start="433" data-line-end="434">Support for Android Studio 3.0</li>
</ul>
</li>
<li class="has-line-data" data-line-start="434" data-line-end="447">Version 1.5.0
<ul>
<li class="has-line-data" data-line-start="435" data-line-end="436">Firebase Cloud Messaging (push notifications)</li>
<li class="has-line-data" data-line-start="436" data-line-end="437">Firebase Analytics</li>
<li class="has-line-data" data-line-start="437" data-line-end="438">AdMob interstitial ad</li>
<li class="has-line-data" data-line-start="438" data-line-end="439">Hide AdMob banner on error</li>
<li class="has-line-data" data-line-start="439" data-line-end="440">GDPR compliant (European Union’s General Data Protection Regulation)</li>
<li class="has-line-data" data-line-start="440" data-line-end="441">Deep links</li>
<li class="has-line-data" data-line-start="441" data-line-end="442">Privacy policy link</li>
<li class="has-line-data" data-line-start="442" data-line-end="443">Adaptive launcher icon</li>
<li class="has-line-data" data-line-start="443" data-line-end="444">Fix lazy loading</li>
<li class="has-line-data" data-line-start="444" data-line-end="445">Fix search suggestion on old Android</li>
<li class="has-line-data" data-line-start="445" data-line-end="446">Update SDK and libraries</li>
<li class="has-line-data" data-line-start="446" data-line-end="447">Refactoring of the code and optimizations</li>
</ul>
</li>
<li class="has-line-data" data-line-start="447" data-line-end="450">Version 1.5.1
<ul>
<li class="has-line-data" data-line-start="448" data-line-end="449">Don’t cover AdMob ad with FAB</li>
<li class="has-line-data" data-line-start="449" data-line-end="450">Animate AdMob banner</li>
</ul>
</li>
<li class="has-line-data" data-line-start="450" data-line-end="462">Version 1.6.0
<ul>
<li class="has-line-data" data-line-start="451" data-line-end="452">Splash screen</li>
<li class="has-line-data" data-line-start="452" data-line-end="453">Preload interstitial ad and show immediately on item click</li>
<li class="has-line-data" data-line-start="453" data-line-end="454">Strip HTML tags from shared recipe text</li>
<li class="has-line-data" data-line-start="454" data-line-end="455">Support asterisk wildcard in deep link intent filter</li>
<li class="has-line-data" data-line-start="455" data-line-end="456">Vector drawables</li>
<li class="has-line-data" data-line-start="456" data-line-end="457">AdMob adaptive banner</li>
<li class="has-line-data" data-line-start="457" data-line-end="458">AdMob test ads</li>
<li class="has-line-data" data-line-start="458" data-line-end="459">Remove unnecessary permissions requests</li>
<li class="has-line-data" data-line-start="459" data-line-end="460">Replace old libraries with new modern ones</li>
<li class="has-line-data" data-line-start="460" data-line-end="461">Update SDK and libraries</li>
<li class="has-line-data" data-line-start="461" data-line-end="462">Refactoring of the code and optimizations</li>
</ul>
</li>
<li class="has-line-data" data-line-start="462" data-line-end="465">Version 1.7.0
<ul>
<li class="has-line-data" data-line-start="463" data-line-end="464">Fix opening URL sent via push notification</li>
<li class="has-line-data" data-line-start="464" data-line-end="465">Update SDK and libraries</li>
</ul>
</li>
<li class="has-line-data" data-line-start="465" data-line-end="468">Version 1.8.0
<ul>
<li class="has-line-data" data-line-start="466" data-line-end="467">In-app review dialog</li>
<li class="has-line-data" data-line-start="467" data-line-end="468">Update SDK and libraries</li>
</ul>
</li>
</ul>
<h2 class="code-line" data-line-start=470 data-line-end=471><a id="Developed_by_470"></a>Developed by</h2>
<p class="has-line-data" data-line-start="472" data-line-end="473"><a href="https://robotemplates.com/">Robo Templates</a></p>
<h2 class="code-line" data-line-start=475 data-line-end=476><a id="License_475"></a>License</h2>
<p class="has-line-data" data-line-start="477" data-line-end="478"><a href="http://codecanyon.net/licenses/standard">Codecanyon license</a></p>

                    </section>
                    <!-- end section -->
                </div>
                <!-- // end .col -->

            </div>
            <!-- // end .row -->

        </div>
        <!-- // end container -->

    </div>
    <!-- end wrapper -->

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/retina.js"></script>
    <script src="js/jquery.fitvids.js"></script>
    <script src="js/wow.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>

    <!-- CUSTOM PLUGINS -->
    <script src="js/custom.js"></script>
    <script src="js/main.js"></script>

    <script src="js/syntax-highlighter/scripts/shCore.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushXml.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushCss.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushJScript.js"></script>

    <!-- CUSTOM SCRIPT -->
    <script>
        $('section#content h2').addClass("dark-text");
        $('section#content h2').first().addClass("dark-text-first");
        $('section#content h2').each(function() {
            $('.docs-sidebar ul').append('<li><a href="#' + $("a", this).attr("id") + '">' + $(this).text() + '</a></li>');
        });
        //$('section#content h2 a').append("#top");
        //$('section#content h2 a').attr("href", "#top");
    </script>

</body>

</html>
